# 运算符

## 算数运算符
|    一元运算符    | 二元加法类运算符 | 二元乘法类运算符 |
| :--------------: | :--------------: | :--------------: |
| + 一元正号运算符 |   + 加法运算符   |   * 乘法运算符   |
| - 一元负号运算符 |   - 减法运算符   |   / 除法运算符   |
|                  |                  |   % 求余运算符   |

- `/`运算符在进行整数运算时仅产生整数结果
- `/`与`%`在进行附属操作时结果难以确定，如果两个操作数中有一个是负数，那么结果可以向上或向下取整（-9 / 7 = -1 or -2），取余也与实现有关（-9 % 7 = -2 or 5），在C99中，除法总是向0截取（-9 / 7 = -1），i % j的正负与i相同（-9 % 7 = -2）

为解决表达式中包含多个运算符时产生的二义性问题，运算符引入优先级和结核性：
- 运算符优先级：运算符按照优先级从高到低的次序进行计算。`+`与`-`的优先级低于`*`与`/`
- 结核性：在优先级一致情况下，按照结核性依次计算。

## 赋值运算符
C语言将`=`看做是运算符之一，v = e产生的结果是e。

符合赋值：`+=`、`-=`、`*=`、`\=`...

## 自增/自减运算符
自增（++）、自减（--）运算符既可以作为前缀运算符也可作为后缀运算符。

- 注：如i++ + ++i这种情况会导致undefined behavior，千万不要写出这种语句。

## 逗号运算符
`,`运算符用于连接多个表达式，并返回最末尾表达式的值。

## 运算符表
| 优先级 |         名称         |                          符号                           | 结合性 |
| :----: | :------------------: | :-----------------------------------------------------: | :----: |
|   1    |      数组取下值      |                          `[]`                           |   左   |
|   1    |       函数调用       |                          `()`                           |   左   |
|   1    | 取结构体和联合的成员 |                        `.` `->`                         |   左   |
|   1    |     自增（后缀）     |                          `++`                           |   左   |
|   1    |     自减（后缀）     |                          `--`                           |   左   |
|   2    |     自增（前缀）     |                          `++`                           |   右   |
|   2    |     自减（前缀）     |                          `--`                           |   右   |
|   2    |        取地址        |                           `&`                           |   右   |
|   2    |       间接寻址       |                           `*`                           |   右   |
|   2    |       一元正号       |                           `+`                           |   右   |
|   2    |       一元负号       |                           `-`                           |   右   |
|   2    |       按位求反       |                           `~`                           |   右   |
|   2    |        逻辑非        |                           `!`                           |   右   |
|   2    |       计算空间       |                        `sizeof`                         |   右   |
|   3    |     强制类型转换     |                          `()`                           |   右   |
|   4    |     乘法类运算符     |                       `*` `/` `%`                       |   左   |
|   5    |     加法类运算符     |                         `+` `-`                         |   左   |
|   6    |         位移         |                        `<<` `>>`                        |   左   |
|   7    |         关系         |                    `<` `>` `<=` `>=`                    |   左   |
|   8    |         判等         |                        `==` `!=`                        |   左   |
|   9    |        按位与        |                           `&`                           |   左   |
|   10   |       按位异或       |                           `^`                           |   左   |
|   11   |        按位或        |                           `|`                           |   左   |
|   12   |        逻辑与        |                          `&&`                           |   左   |
|   13   |        逻辑或        |                          `||`                           |   左   |
|   14   |         条件         |                          `?:`                           |   右   |
|   15   |         赋值         | `=` `*=` `/=` `%=` `+=` `-=` `<<=` `>>=` `&=` `^=` `!=` |   右   |
|   16   |         逗号         |                           `,`                           |   左   |

[返回目录](../CONTENTS.md)
